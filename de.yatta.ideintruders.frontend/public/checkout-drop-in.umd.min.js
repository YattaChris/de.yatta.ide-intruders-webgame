!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(){return(t=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},e=function(){function t(t,e){this.urlHandler=t,this.pageLoadTypeDetector=e}return t.prototype.initFrame=function(t,e){var n=this.urlHandler.parseQuery(t),i=n?JSON.parse(atob(n)):null;e({action:"init",hostRelativeRef:this.urlHandler.getResetRelativeReference(t),autostartRef:i,isReload:this.pageLoadTypeDetector.isReload()})},t}(),n=function(){function t(t){this.window=t,this.bodyStyles=this.window.document.body.style,this.styleDump=null,this.appsHiding=[]}return t.prototype.hideBodyScrollbars=function(t){0===this.appsHiding.length&&null===this.styleDump&&(this.saveStyleDump(),this.hideScrollbars()),this.appsHiding.includes(t)||this.appsHiding.push(t)},t.prototype.saveStyleDump=function(){this.styleDump={bodyOverflowX:this.bodyStyles.overflowX,bodyOverflowY:this.bodyStyles.overflowY,bodyPaddingBottom:this.bodyStyles.paddingBottom,bodyPaddingRight:this.bodyStyles.paddingRight,bodyMinWidth:this.bodyStyles.minWidth,bodyWidth:this.bodyStyles.width}},t.prototype.hideScrollbars=function(){var t=this.window.getComputedStyle(this.window.document.body),e=this.computePaddingBottom(t),n=this.computePaddingRight(t),i=this.computeMinimumBodyWidth(t);this.bodyStyles.overflowX="hidden",this.bodyStyles.overflowY="hidden",this.bodyStyles.paddingBottom=e+"px",this.bodyStyles.paddingRight=n+"px",this.bodyStyles.minWidth=i+"px",this.bodyStyles.width="initial"},t.prototype.computePaddingBottom=function(t){var e=this.window.document.documentElement,n=this.window.innerHeight-e.clientHeight;return parseFloat(t.paddingBottom)+n},t.prototype.computeMinimumBodyWidth=function(t){var e=this.window.document.body;return e.scrollWidth<=e.clientWidth||/Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?0:"border-box"===t.boxSizing?e.scrollWidth+this.computePaddingRight(t):e.scrollWidth},t.prototype.computePaddingRight=function(t){var e=this.window.document.documentElement,n=this.window.innerWidth-e.clientWidth;return parseFloat(t.paddingRight)+n},t.prototype.resetBodyScrollbars=function(t){var e=this.appsHiding.indexOf(t);e>-1&&(1===this.appsHiding.length&&null!==this.styleDump&&(this.applyStyleDump(this.styleDump),this.styleDump=null),this.appsHiding.splice(e,1))},t.prototype.applyStyleDump=function(t){this.bodyStyles.overflowX=t.bodyOverflowX,this.bodyStyles.overflowY=t.bodyOverflowY,this.window.document.documentElement.scrollLeft,this.bodyStyles.paddingBottom=t.bodyPaddingBottom,this.bodyStyles.paddingRight=t.bodyPaddingRight,this.bodyStyles.minWidth=t.bodyMinWidth,this.bodyStyles.width=t.bodyWidth},t}(),i=function(){function t(t){this.window=t,this.iframes={},this.scrollbarManager=new n(this.window)}return t.prototype.createFrame=function(t,e,n){var i,o,r;this.iframes[t]={iframe:this.window.document.createElement("iframe"),initialStyles:n};var s=this.getIFrameOrThrow(t);s.src=e,s.name=t,s.style.position="fixed",s.style.left="0",s.style.top="0",s.style.width=n.width,s.style.height="100%",s.style.padding="0",s.style.border="none",s.style.margin="0",s.style.zIndex=n.zIndex,s.style.display=n.display,s.style.filter=null!==(i=n.filter)&&void 0!==i?i:"",s.style.transition=null!==(o=n.transition)&&void 0!==o?o:"",s.scrolling=null!==(r=n.scrolling)&&void 0!==r?r:"yes",this.window.document.body.appendChild(s)},t.prototype.showFrame=function(t){var e=this.getIFrameOrThrow(t);e.style.display="block",e.focus(),this.scrollbarManager.hideBodyScrollbars(t)},t.prototype.hideFrame=function(t){this.getIFrameOrThrow(t).style.display="none",this.scrollbarManager.resetBodyScrollbars(t)},t.prototype.sendMessageToFrame=function(t,e){var n=this,i=this.getIFrameOrThrow(t);i.contentWindow?i.contentWindow.postMessage(e,i.src):i.addEventListener("load",(function(){return n.sendMessageToFrame(t,e)}))},t.prototype.onReceiveMessageFromFrame=function(t,e,n){var i=this;this.window.addEventListener("message",(function(o){o.origin===i.getHostname(t)&&o.data.source===e&&n(o.data)}))},t.prototype.setFrameWidth=function(t,e){var n,i=this.getIFrameWithSettingsOrThrow(t),o=this.isSettingToFullWidth(e);o||i.iframe.style.width.startsWith("0")?i.iframe.style.transition="":o||(i.iframe.style.transition=null!==(n=i.initialStyles.transition)&&void 0!==n?n:""),i.iframe.style.width=e,o&&"none"!==i.iframe.style.display?this.scrollbarManager.hideBodyScrollbars(t):this.scrollbarManager.resetBodyScrollbars(t)},t.prototype.isSettingToFullWidth=function(t){return t.endsWith("px")?Number(t.split("px",1)[0])>=this.window.innerWidth:!!t.endsWith("%")&&Number(t.split("%",1)[0])>=100},t.prototype.getHostname=function(t){var e=this.window.document.createElement("a");return e.href=this.getIFrameOrThrow(t).src,e.protocol+"//"+e.host},t.prototype.getIFrameWithSettingsOrThrow=function(t){if(void 0!==this.iframes[t])return this.iframes[t];throw new Error("IFrame "+t+" not initialized")},t.prototype.getIFrameOrThrow=function(t){return this.getIFrameWithSettingsOrThrow(t).iframe},t}(),o=function(){function t(t){this.window=t}return t.prototype.isReload=function(){var t,e=null===(t=this.window.performance.getEntriesByType("navigation").find((function(t){return void 0!==t})))||void 0===t?void 0:t.type;return"reload"===e||"back_forward"===e},t}(),r=function(){function t(t){this.window=t}return t.prototype.parseQuery=function(t){return this.getQueryParameter(t)},t.prototype.getQueryParameter=function(t){var e=this.window.location.search,n=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null!==n?decodeURIComponent(n[1]):null},t.prototype.resetRelativeReference=function(t){var e=this.window.document.title;this.window.history.replaceState({},e,this.getResetRelativeReference(t))},t.prototype.getResetRelativeReference=function(t){var e=this.window.location,n=e.pathname,i=e.search,o=e.hash;return n+this.deleteQueryParameter(i,t).replace(new RegExp("^&"),"?")+o},t.prototype.deleteQueryParameter=function(t,e){var n=new RegExp("[?&]"+e+"=([^&#]*)","g");return t.replace(n,"")},t}(),s="startYattaCheckout",a="https://www.yatta.de",c="https://preview.platform.yatta.de",l="https://stage.platform.yatta.de",u=function(t){return"http://localhost:"+t},d=function(t){return t+"/app/checkout-eclipse"},h=function(t){return t+"/products/in-app-web-demo"},p=function(t){return t+"/app/static"},g=function(t){return t+"/chckout"},y=function(t){return t+"/chckout/redirect"},m=function(t){return t+"/app/checkout"},f=function(t){return t+"/app/checkout-demo"},w=function(t){return t+"/account"},v=function(t){return t+"/products/softwarevendor"},b=function(t){return t+"/portal"},C={accountUrl:w(a),chckoutUrl:g(a),documentRoot:a,inAppWebUrl:d(a),inAppWebDemoUrl:h(a),isDevelopment:!1,isProduction:!0,isPublic:!0,name:"production",softwareVendorUrl:v(a),solutionPortalUrl:b(a),staticPagesUrl:p(a),vendorRedirectUrl:y(a),webshopUrl:m(a),webshopDemoUrl:f(a),websiteUrl:a},S={accountUrl:w(c),chckoutUrl:g(c),documentRoot:c,inAppWebUrl:d(c),inAppWebDemoUrl:h(c),isDevelopment:!1,isProduction:!1,isPublic:!1,name:"preview",softwareVendorUrl:v(c),solutionPortalUrl:b(c),staticPagesUrl:p(c),vendorRedirectUrl:y(c),webshopUrl:m(c),webshopDemoUrl:f(c),websiteUrl:"https://de-yatta-website-git-stage-yatta.vercel.app"},k={accountUrl:w(l),chckoutUrl:g(l),documentRoot:l,inAppWebUrl:d(l),inAppWebDemoUrl:h(l),isDevelopment:!1,isProduction:!1,isPublic:!1,name:"stage",softwareVendorUrl:v(l),solutionPortalUrl:b(l),staticPagesUrl:p(l),vendorRedirectUrl:y(l),webshopUrl:m(l),webshopDemoUrl:f(l),websiteUrl:"https://de-yatta-website-git-stage-yatta.vercel.app"},E={accountUrl:u(5e3),chckoutUrl:g(u(8013)),documentRoot:l,inAppWebUrl:u(4300),inAppWebDemoUrl:u(4600),isDevelopment:!0,isProduction:!1,isPublic:!1,name:"dev",softwareVendorUrl:u(4500),solutionPortalUrl:u(5100),staticPagesUrl:u(4400),vendorRedirectUrl:y(u(4200)),webshopUrl:u(4200),webshopDemoUrl:u(6200),websiteUrl:"http://localhost:4100"},U=function(t){return function(t){switch(t){case"production":return C;case"preview":return S;case"stage":return k;case"dev":return E}}(t)},A=function(){function t(t){this.window=t,this.environment="production",this.chckoutUrl=U("production").chckoutUrl,this.webCheckoutUrl=U("production").webshopUrl,this.webCheckoutDemoUrl=U("production").webshopDemoUrl,this.staticPagesUrl=U("production").staticPagesUrl,this.environmentLocked=!1,this.onSignedInChangeCallbacks={callbacks:[]},this.onAssetStatusChangeCallbacks={},this.onLicenseSessionChangeCallbacks={callbacks:[]}}return t.prototype.publishInterface=function(t){var e=this,n="checkout-drop-in";this.window.yatta={startCheckout:function(i,o){return t({source:n,action:"startCheckout",productId:e.sanitizeProductId(i),params:e.sanitizeCheckoutParams(o)})},onSignedInChange:function(t){return e.registerSignedInChangeCallback(e.sanitizeCallback(t))},onAssetStatusChange:function(n,i,o){return e.registerAssetStatusChangeCallback(t,e.sanitizeProductId(n),e.sanitizeCallback(i),e.sanitizeEnvironment(o))},onLicenseSessionChange:function(n,i){return e.registerLicenseSessionChangeCallback(t,e.sanitizeProductId(n),e.sanitizeCallback(i))},signIn:function(i){return t({source:n,action:"signIn",params:e.sanitizeAuthenticationParams(i)})},signOut:function(){return t({source:n,action:"signOut"})},linkAccount:function(i){return t({source:n,action:"linkAccount",accountId:e.sanitizeAccountId(i)})},startAcademicRegistration:function(i){return t({source:n,action:"startAcademicRegistration",params:e.sanitizeAcademicParams(i)})},setPlatformEnvironment:function(t){return e.trySetPlatformEnvironment(t)}}},t.prototype.sanitizeCheckoutParams=function(t){return{manageAssetHint:this.sanitizeManageAssetHint(null==t?void 0:t.manageAssetHint),environment:this.sanitizeEnvironment(null==t?void 0:t.environment),start:this.sanitizeCheckoutStart(null==t?void 0:t.start),authenticationParams:this.sanitizeAuthenticationParams(null==t?void 0:t.authenticationParams)}},t.prototype.sanitizeCheckoutStart=function(t){var e;if(void 0!==(null==t?void 0:t.type)&&null!==(null==t?void 0:t.type)&&"oneTimePurchase"!==(null==t?void 0:t.type)&&"subscription"!==(null==t?void 0:t.type))throw new Error("Type "+JSON.stringify(null==t?void 0:t.type)+" not supported.");if("subscription"===(null==t?void 0:t.type)){if(void 0!==(null==t?void 0:t.subscriptionInterval)&&null!==(null==t?void 0:t.subscriptionInterval)&&"monthly"!==(null==t?void 0:t.subscriptionInterval)&&"yearly"!==(null==t?void 0:t.subscriptionInterval))throw new Error("SubscriptionInterval "+JSON.stringify(null==t?void 0:t.subscriptionInterval)+" not supported.");return{type:null==t?void 0:t.type,subscriptionInterval:null!==(e=null==t?void 0:t.subscriptionInterval)&&void 0!==e?e:"monthly"}}return{type:"oneTimePurchase"}},t.prototype.sanitizeManageAssetHint=function(t){if(null!=t&&!0!==t&&!1!==t)throw new Error("ManageAssetHint "+JSON.stringify(t)+" not supported.");return null!=t&&t},t.prototype.sanitizeEnvironment=function(t){if(null!=t&&"live"!==t&&"preview"!==t)throw new Error("Environment "+JSON.stringify(t)+" not supported.");return null!=t?t:"live"},t.prototype.sanitizeAuthenticationParams=function(t){var e;return{emailHint:null!==(e=null==t?void 0:t.emailHint)&&void 0!==e?e:null}},t.prototype.sanitizeAccountId=function(t){if(void 0===t)throw new Error("AccountId not defined.");return t},t.prototype.sanitizeAcademicParams=function(t){var e,n,i,o,r,s,a,c;if(void 0!==(null===(e=null==t?void 0:t.start)||void 0===e?void 0:e.type)&&null!==(null===(n=null==t?void 0:t.start)||void 0===n?void 0:n.type)&&"student"!==(null===(i=null==t?void 0:t.start)||void 0===i?void 0:i.type)&&"teacher"!==(null===(o=null==t?void 0:t.start)||void 0===o?void 0:o.type)&&"organization"!==(null===(r=null==t?void 0:t.start)||void 0===r?void 0:r.type))throw new Error("Type "+JSON.stringify(null===(s=null==t?void 0:t.start)||void 0===s?void 0:s.type)+" not supported.");return{productId:this.sanitizeProductId(null==t?void 0:t.productId,"Academic registration without productId not yet supported."),start:{type:null!==(c=null===(a=null==t?void 0:t.start)||void 0===a?void 0:a.type)&&void 0!==c?c:"student"}}},t.prototype.sanitizeProductId=function(t,e){if(void 0===e&&(e="ProductId is missing."),null==t)throw new Error(e);return t},t.prototype.sanitizeCallback=function(t){if("function"!=typeof t)throw new Error("Callback must be provided as a function.");return t},t.prototype.registerSignedInChangeCallback=function(t){var e=this.onSignedInChangeCallbacks.lastValue;void 0!==e&&t(e),this.onSignedInChangeCallbacks.callbacks.push(t)},t.prototype.registerAssetStatusChangeCallback=function(t,e,n,i){var o;if(void 0!==this.onAssetStatusChangeCallbacks[e]&&void 0!==this.onAssetStatusChangeCallbacks[e][i]){var r=this.onAssetStatusChangeCallbacks[e][i].lastValue;void 0!==r&&n(r),this.onAssetStatusChangeCallbacks[e][i].callbacks.push(n)}else{var s={lastValue:null,callbacks:[n]};void 0!==this.onAssetStatusChangeCallbacks[e]?this.onAssetStatusChangeCallbacks[e][i]=s:this.onAssetStatusChangeCallbacks[e]=((o={})[i]=s,o)}t({source:"checkout-drop-in",action:"registerForAssetStatusChange",productId:e,environment:i})},t.prototype.registerLicenseSessionChangeCallback=function(t,e,n){var i=this.onLicenseSessionChangeCallbacks.lastValue;void 0!==i&&n(i),this.onLicenseSessionChangeCallbacks.callbacks.push(n),t({source:"checkout-drop-in",action:"registerForLicenseSessionChange",productId:e})},t.prototype.trySetPlatformEnvironment=function(t){if(this.environmentLocked)throw new Error("The platform environment is locked and cannot be changed.");var e=U(t);this.environment=e.name,this.webCheckoutUrl=e.webshopUrl,this.webCheckoutDemoUrl=e.webshopDemoUrl,this.staticPagesUrl=e.staticPagesUrl,this.chckoutUrl=e.chckoutUrl},t.prototype.getAndLockEnvironment=function(){return this.environmentLocked=!0,this.environment},t.prototype.getAndLockWebCheckoutUrl=function(){return this.environmentLocked=!0,this.webCheckoutUrl},t.prototype.getAndLockWebCheckoutDemoUrl=function(){return this.environmentLocked=!0,this.webCheckoutDemoUrl},t.prototype.getAndLockStaticPagesUrl=function(){return this.environmentLocked=!0,this.staticPagesUrl},t.prototype.getAndLockChckoutUrl=function(){return this.environmentLocked=!0,this.chckoutUrl},t.prototype.notifySignedInChange=function(t){this.onSignedInChangeCallbacks.lastValue=t;for(var e=0,n=this.onSignedInChangeCallbacks.callbacks;e<n.length;e++){(0,n[e])(t)}},t.prototype.notifyAssetStatusChange=function(t,e,n){if(void 0!==this.onAssetStatusChangeCallbacks[t]&&void 0!==this.onAssetStatusChangeCallbacks[t][e]){this.onAssetStatusChangeCallbacks[t][e].lastValue=n;for(var i=0,o=this.onAssetStatusChangeCallbacks[t][e].callbacks;i<o.length;i++){(0,o[i])(n)}}},t.prototype.notifyLicenseSessionChange=function(t){this.onLicenseSessionChangeCallbacks.lastValue=t;for(var e=0,n=this.onLicenseSessionChangeCallbacks.callbacks;e<n.length;e++){(0,n[e])(t)}},t}(),M=function(){function t(t){this.window=t}return t.prototype.isSupported=function(){return this.supportsCssVariables()&&this.supportsGlobalThis()},t.prototype.supportsCssVariables=function(){return!(!this.window.CSS||!this.window.CSS.supports("color","var(--test-var)"))},t.prototype.supportsGlobalThis=function(){return"object"==typeof globalThis},t.prototype.showNotSupportedWindow=function(t){var e=this.window.top.outerHeight/2+this.window.top.screenY-201,n=this.window.top.outerWidth/2+this.window.top.screenX-219,i=t+"/web-checkout/browser-not-supported/"+(this.isIE()?"ie":"other");return this.window.open(i,"","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=438, height=402, top="+e+", left="+n),!1},t.prototype.isIE=function(){return/msie\s|trident\//i.test(this.window.navigator.userAgent)},t}();new(function(){function n(t){this.window=t,this.earlyMessagesQueueProcessed=!1,this.earlyMessagesQueue=[],this.CHECKOUT_FRAME_NAME="yatta-checkout",this.CHECKOUT_DEMO_FRAME_NAME="yatta-checkout-demo",this.CHECKOUT_DEMO_EXCLUDED_KEY="checkoutDemoExcluded",this.CHECKOUT_INITIAL_STYLES={zIndex:"9999",display:"none",width:"100%"}}return n.prototype.execute=function(){var t=this;this.apiService=new A(this.window),this.browserSupportService=new M(this.window),this.iFrameManager=new i(this.window),this.pageLoadTypeDetector=new o(this.window),this.urlHandler=new r(this.window),this.iFrameInitService=new e(this.urlHandler,this.pageLoadTypeDetector),this.apiService.publishInterface((function(e){return t.decideOnFrameAndHandleMessageToCheckoutFrame(e)})),this.browserSupportService.isSupported()?this.addInitEventListeners():this.addInitEventListenersIfBrowserNotSupported()},n.prototype.addInitEventListeners=function(){var e=this;this.window.addEventListener("DOMContentLoaded",(function(){e.createCheckoutFrame(),"localhost"===e.window.location.hostname&&e.createCheckoutDemoFrame()})),this.window.addEventListener("load",(function(){e.processEarlyMessagesQueueBeforeFrameInit(),e.iFrameInitService.initFrame(s,(function(n){return e.handleMessageToCheckoutFrame(e.CHECKOUT_FRAME_NAME,t(t({},n),{source:"checkout-drop-in"}))}))}))},n.prototype.processEarlyMessagesQueueBeforeFrameInit=function(){var t=this;this.earlyMessagesQueueProcessed=!0,this.earlyMessagesQueue.forEach((function(e){return t.decideOnFrameAndHandleMessageToCheckoutFrame(e)})),this.earlyMessagesQueue=[]},n.prototype.createCheckoutFrame=function(){var t=this,e=this.apiService.getAndLockWebCheckoutUrl();this.iFrameManager.createFrame(this.CHECKOUT_FRAME_NAME,e,this.CHECKOUT_INITIAL_STYLES),this.iFrameManager.onReceiveMessageFromFrame(this.CHECKOUT_FRAME_NAME,"web-checkout",(function(e){return t.handleMessageFromCheckoutFrame(e)}))},n.prototype.createCheckoutDemoFrame=function(){var t=this,e=this.apiService.getAndLockWebCheckoutDemoUrl();this.iFrameManager.createFrame(this.CHECKOUT_DEMO_FRAME_NAME,e,this.CHECKOUT_INITIAL_STYLES),this.iFrameManager.onReceiveMessageFromFrame(this.CHECKOUT_DEMO_FRAME_NAME,"web-checkout-demo",(function(e){return t.handleCloseFrameMessage(e,t.CHECKOUT_DEMO_FRAME_NAME)}))},n.prototype.handleMessageFromCheckoutFrame=function(t){switch(t.action){case"notifyAssetStatusChange":this.apiService.notifyAssetStatusChange(t.productId,t.environment,t.assetStatus);break;case"notifySignedInChange":this.apiService.notifySignedInChange(t.signedIn);break;case"notifyLicenseSessionChange":this.apiService.notifyLicenseSessionChange(t.licenseSession);break;case"closeFrame":this.handleCloseFrameMessage(t,this.CHECKOUT_FRAME_NAME);break;case"confirmAutostart":this.urlHandler.resetRelativeReference(s)}},n.prototype.handleCloseFrameMessage=function(t,e){"closeFrame"===t.action&&this.iFrameManager.hideFrame(e)},n.prototype.decideOnFrameAndHandleMessageToCheckoutFrame=function(t){var e,n=this;if(this.earlyMessagesQueueProcessed){if("startCheckout"===t.action&&!0!==(null===(e=t.params)||void 0===e?void 0:e.manageAssetHint)){var i="localhost"===this.window.location.hostname,o=void 0,r=!0;try{o=this.window.localStorage.getItem(this.CHECKOUT_DEMO_EXCLUDED_KEY)}catch(t){r=!1,o=null}var s=o?JSON.parse(o):[];if(i&&!s.includes(t.productId))return void fetch(this.apiService.getAndLockChckoutUrl()+"/webshop-demo/check-license-id-type?licenseId="+t.productId).then((function(t){if(!t.ok)throw new Error("HTTP status code: "+t.status);return t.json()})).then((function(e){!1===e.demoMode&&r&&n.window.localStorage.setItem(n.CHECKOUT_DEMO_EXCLUDED_KEY,JSON.stringify(s.concat([t.productId]))),n.handleMessageToCheckoutFrame(e.demoMode?n.CHECKOUT_DEMO_FRAME_NAME:n.CHECKOUT_FRAME_NAME,t)})).catch((function(){return n.handleMessageToCheckoutFrame(n.CHECKOUT_FRAME_NAME,{source:"checkout-drop-in",action:"showError",errorType:"SOLUTION_ID_DEMO_CHECK_FAILED"})}))}this.handleMessageToCheckoutFrame(this.CHECKOUT_FRAME_NAME,t)}else this.earlyMessagesQueue.push(t)},n.prototype.handleMessageToCheckoutFrame=function(t,e){this.handleMessageToFrame(t,e),"signOut"===e.action||"registerForAssetStatusChange"===e.action||"registerForLicenseSessionChange"===e.action||"linkAccount"===e.action||"init"===e.action&&null===e.autostartRef&&!e.isReload||this.iFrameManager.showFrame(t)},n.prototype.handleMessageToFrame=function(t,e){this.browserSupportService.isSupported()?this.iFrameManager.sendMessageToFrame(t,e):this.browserSupportService.showNotSupportedWindow(this.apiService.getAndLockStaticPagesUrl())},n.prototype.addInitEventListenersIfBrowserNotSupported=function(){var t=this;this.window.addEventListener("load",(function(){var e=!1;t.urlHandler.parseQuery(s)&&(e=!0,t.urlHandler.resetRelativeReference(s)),e&&t.browserSupportService.showNotSupportedWindow(t.apiService.getAndLockStaticPagesUrl())}))},n}())(window).execute()}));
